name: PR Title Validation

on:
  pull_request:
    types: [opened, edited, synchronize, reopened]

jobs:
  validate-title:
    runs-on: ubuntu-latest

    steps:
      - name: Validate PR Title
        run: |
          TITLE="${{ github.event.pull_request.title }}"
          echo "PR Title: $TITLE"

          if [[ ! "$TITLE" =~ ^(ADMIN|BIZ)-[0-9]+:[[:space:]].+ ]]; then
            echo "❌ Invalid PR title format."
            echo ""
            echo "Required format:"
            echo "ADMIN-1234: Short description"
            echo "BIZ-5678: Short description"
            exit 1
          fi

          echo "✅ PR title format is valid."
